{"version":3,"file":"js/264.cea1696e.js","mappings":"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","sources":["webpack://rental-calendar/./src/views/BookingDetailsView.vue","webpack://rental-calendar/./src/views/BookingDetailsView.vue?4741"],"sourcesContent":["<template>\n    <div class=\"p-3\">\n      \n        <div v-if=\"!loadingBooking\">\n            <div class=\"d-flex flex-row\">\n                <h2>Booking Details</h2>\n                <div class=\"flex-grow-1\"></div>\n                <button type=\"button\" class=\"btn btn-close\" @click=\"$router.go(-1)\"></button>\n            </div>\n\n            <div class=\"d-flex flex-column\">\n            \n                <div \n                    class=\"d-grid gap-2 my-3 text-start\"\n                    style=\"grid-template-columns: 24px 1fr;\">\n                    <div></div>\n                    <strong>Customer Name:</strong>\n\n                    <img\n                        :src=\"require('../assets/user-solid-full.svg')\"\n                        alt=\"User\"\n                        class=\"img-fluid rounded mb-0\"\n                        style=\"width:20px;height:20px\"\n                        />\n                    <p class=\"mb-0\" id=\"customerName\">{{ customerName }}</p>\n                </div>\n                \n\n                <div\n                    class=\"d-grid gap-2 mt-3 mb-3\"\n                    style=\"\n                        grid-template-columns: 24px 1fr 1fr;\n                        align-items: start;\n                        justify-items: start;\n                    \">\n                        <!-- Row 1: Headers -->\n                        <div></div>\n                        <strong>Pickup</strong>\n                        <strong>Return</strong>\n\n                        <!-- Row 2: Time -->\n                        <img\n                            :src=\"require('../assets/clock-solid-full.svg')\"\n                            alt=\"Clock\"\n                            class=\"img-fluid rounded\"\n                            style=\"width:20px;height:20px\"\n                        />\n                        <span :class=\"{ 'underline':isPickup}\" id=\"startDate\">{{ startDate }}</span>\n                        <span :class=\"{ 'underline':isReturn}\" id=\"endDate\">{{ endDate }}</span>\n\n                        <!-- Row 3: Location -->\n                        <img\n                            :src=\"require('../assets/location-dot-solid-full.svg')\"\n                            alt=\"Location\"\n                            class=\"img-fluid rounded\"\n                            style=\"width:20px;height:20px\"\n                        />\n                        <span :class=\"{ 'underline':isPickup}\" id=\"pickupStation\">{{ pickupStation }}</span>\n                        <span :class=\"{ 'underline':isReturn}\" id=\"returnStation\">{{ returnStation ? returnStation : pickupStation }}</span>\n                    </div>\n\n                <div \n                    class=\"d-grid gap-2 mt-3 mb-3 text-start\"\n                    style=\"grid-template-columns: 24px 1fr;\">\n                    <div></div>\n                    <strong>Booking Duration:</strong>\n\n                    <img\n                        :src=\"require('../assets/user-clock-solid-full.svg')\"\n                        alt=\"UserDuration\"\n                        class=\"img-fluid rounded\"\n                        style=\"width:20px;height:20px\"\n                        />\n                    <p>{{ bookingDuration }}</p>\n                </div>\n            </div>\n           \n        </div>\n        <div v-else>\n            <p>Loading booking details...</p>\n        </div>\n\n    </div>\n</template>\n<script>\nimport moment from 'moment';\nimport { mapGetters } from 'vuex';\nimport { sanitizeBookingDetails } from '../utils/sanitizeData.js';\n\nexport default {\n    name: \"BookingDetailsView\",\n    props: {\n        date: String,\n        pickupStationId: String,\n        bookingId: String\n    },\n    computed: {\n        ...mapGetters(['getStationById']),\n\n        isPickup(){\n            return this.date == moment.utc(this.startDate).format('YYYY-MM-DD');\n        },\n        isReturn(){\n            return this.date == moment.utc(this.endDate).format('YYYY-MM-DD');\n        }\n    },\n    data() {\n        return {\n            booking: null,\n            loadingBooking: true,\n\n            startDate: '',\n            endDate: '',\n            customerName: '',\n            bookingDuration: '',\n\n            pickupStation: '',\n            returnStation: '',\n\n        };\n    },\n    mounted() {\n        this.fetchBookingDetails();\n    },\n    \n    methods: {\n        fetchBookingDetails() {\n            // Fetch booking details based on bookingId prop\n\n\n            fetch(`https://605c94c36d85de00170da8b4.mockapi.io/stations/${this.pickupStationId}/bookings/${this.bookingId}`)\n                .then(response => response.json())\n                .then(data => {\n                    \n                    this.booking = sanitizeBookingDetails(data);\n                    if (!this.booking) {\n                        console.error('Invalid booking data:', data);\n                        this.loadingBooking = false;\n                        this.$router.go(-1)// Redirect to previous page if booking data is invalid\n                        return;\n                    }\n\n                    \n                    this.startDate = moment.utc(data.startDate).format('YYYY-MM-DD HH:mm');\n                    this.endDate = moment.utc(data.endDate).format('YYYY-MM-DD HH:mm');\n\n\n                    this.bookingDuration = '';\n                    // Calculate booking duration in days and hours\n                    const bookingDays = moment.utc(data.endDate).diff(moment.utc(data.startDate), 'days');\n                    this.bookingDuration += bookingDays ? bookingDays + ' days ' : '';\n\n                    const bookingHours = moment.utc(data.endDate).diff(moment.utc(data.startDate), 'hours') % 24;\n                    this.bookingDuration += bookingHours ? bookingHours + ' hours' : '';\n\n                    \n                    if(!( data.pickupStation && data.returnStation )) {\n                        const station = this.getStationById(data.pickupReturnStationId);\n                        this.pickupStation = station.name;\n                    }else {\n                        this.pickupStation = data.pickupStation;\n                        this.returnStation = data.returnStation;\n\n                    }\n\n                    this.customerName = data.customerName;\n\n                    this.loadingBooking = false;\n                })\n                .catch(error => {\n                    console.error('Error fetching booking details:', error);\n                });\n            \n        }\n    }\n};\n</script>\n\n<style>\n.underline{\n    text-decoration: underline;\n}\n</style>","import { render } from \"./BookingDetailsView.vue?vue&type=template&id=27d41420\"\nimport script from \"./BookingDetailsView.vue?vue&type=script&lang=js\"\nexport * from \"./BookingDetailsView.vue?vue&type=script&lang=js\"\n\nimport \"./BookingDetailsView.vue?vue&type=style&index=0&id=27d41420&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","id","_createElementBlock","_hoisted_1","$data","loadingBooking","_hoisted_13","_cache","_createElementVNode","_hoisted_2","_hoisted_3","type","onClick","$event","_ctx","$router","go","_hoisted_4","_hoisted_5","src","require","alt","_hoisted_7","_toDisplayString","customerName","_hoisted_8","_normalizeClass","$options","isPickup","startDate","isReturn","endDate","pickupStation","returnStation","_hoisted_11","bookingDuration","name","props","date","String","pickupStationId","bookingId","computed","mapGetters","this","moment","format","data","booking","mounted","fetchBookingDetails","methods","fetch","then","response","json","sanitizeBookingDetails","console","error","bookingDays","diff","bookingHours","station","getStationById","pickupReturnStationId","catch","__exports__","render"],"sourceRoot":""}